(this["webpackJsonphabit-builder"]=this["webpackJsonphabit-builder"]||[]).push([[0],{26:function(e){e.exports=JSON.parse('{"apiKey":"AIzaSyCTGw2lG8csaR0RlUUCvVqXIqUR6x0hTM0","authDomain":"habit-builder-8009a.firebaseapp.com","projectId":"habit-builder-8009a","storageBucket":"habit-builder-8009a.appspot.com","messagingSenderId":"490599687777","appId":"1:490599687777:web:ad1ea1696955f56e13ac20","measurementId":"G-Z1T9L2SRTT"}')},33:function(e,t,n){},34:function(e,t,n){},43:function(e,t,n){"use strict";n.r(t);var c=n(2),r=n.n(c),i=n(17),a=n.n(i),s=n(13),o=n.n(s),l=n(15),u=n(12),d=(n(33),n(34),n(11)),j=n(26),b=(n(25),n(36),n(44),n(8)),h=r.a.createContext({signIn:function(){},signOut:function(){}}),O=n.p+"static/media/googleIcon.26bdb3f3.svg",f=n(1),m=function(){var e=Object(c.useContext)(h);return Object(b.c)((function(e){return e.user}))?Object(f.jsx)("div",{className:"logout",onClick:e.signOut,children:Object(f.jsxs)("svg",{width:"36",height:"34",viewBox:"0 0 36 34",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(f.jsx)("path",{className:"arrow",d:"M19 16C18.4477 16 18 16.4477 18 17C18 17.5523 18.4477 18 19 18V16ZM35.7071 17.7071C36.0976 17.3166 36.0976 16.6834 35.7071 16.2929L29.3431 9.92893C28.9526 9.53841 28.3195 9.53841 27.9289 9.92893C27.5384 10.3195 27.5384 10.9526 27.9289 11.3431L33.5858 17L27.9289 22.6569C27.5384 23.0474 27.5384 23.6805 27.9289 24.0711C28.3195 24.4616 28.9526 24.4616 29.3431 24.0711L35.7071 17.7071ZM19 18L35 18V16L19 16V18Z",fill:"black"}),Object(f.jsx)("path",{d:"M27 6V2H2V32H27V27.5",stroke:"black",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"})]})}):Object(f.jsxs)("div",{className:"login",onClick:e.signIn,children:[Object(f.jsx)("div",{children:Object(f.jsx)("img",{src:O,alt:"Google"})}),Object(f.jsx)("div",{children:"Sign In"})]})},x=function(){return Object(f.jsx)("li",{className:"nav-brand",children:Object(f.jsx)("h3",{children:"Habit Builder"})})},v=function(e){var t=e.changeTheme,n=Object(b.c)((function(e){return e.user}));return Object(f.jsx)("li",{className:"nav-elements",children:Object(f.jsxs)("ul",{children:[Object(f.jsx)("li",{onClick:function(){return t()},children:"Theme"}),Object(f.jsxs)("li",{className:"userArea ".concat(n?"loggedIn":""),children:[n?Object(f.jsxs)("div",{children:[Object(f.jsx)("div",{className:"welcome",children:"Hello,"})," ",Object(f.jsx)("div",{className:"username",children:n.displayName})]}):"",Object(f.jsx)(m,{})]})]})})},p=function(e){var t=e.toggle;return Object(f.jsxs)("li",{className:"burger-menu",onClick:t,children:[Object(f.jsx)("div",{}),Object(f.jsx)("div",{}),Object(f.jsx)("div",{})]})},g=function(e){var t=e.active,n=e.toggle,c=e.changeTheme;return Object(f.jsx)("div",{id:"sidebar",className:t?"active":"",onClick:function(e){return n()},children:Object(f.jsxs)("ul",{onClick:function(e){return e.stopPropagation()},children:[Object(f.jsx)("li",{onClick:function(){return c()},children:"Theme"}),Object(f.jsx)(m,{})]})})},w=function(e){var t=e.changeTheme,n=Object(c.useState)(!1),r=Object(u.a)(n,2),i=r[0],a=r[1],s=function(){return a((function(e){return!e}))};return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("header",{className:"nav-bar",children:Object(f.jsx)("nav",{children:Object(f.jsxs)("ul",{children:[Object(f.jsx)(x,{}),Object(f.jsx)(v,{changeTheme:t}),Object(f.jsx)(p,{toggle:s})]})})}),Object(f.jsx)(g,{active:i,toggle:s,changeTheme:t})]})},y=n.p+"static/media/plusIcon.73a033ba.svg",k="ADD",C="DELETE",N="CLEAR",L="LOGIN",T="LOGOUT",I=function(e){return{type:C,payload:e}},S=[{name:"Health",color:"#5B965E"},{name:"Hobby",color:"#4357AD"},{name:"Productivity",color:"#B80C09"}],M=function(e){var t,n=e.title,c=e.description,r=e.category,i=e.completed,a=e.id,s=Object(b.b)(),u=d.a.firestore().collection("habits").doc(a),j=function(){for(var e=["Su","Mo","Tu","We","Th","Fr","Sa"],t=new Date,n=new Date(t.getTime()-864e5*t.getDay()),c=[],r=0;r<7;r++){var i=new Date(n.getTime()+864e5*r);c.push({dayOfWeek:e[i.getDay()],day:i.getDate(),month:i.getMonth(),year:i.getFullYear()})}return c}(),h=null===(t=S.find((function(e){return e.name===r})))||void 0===t?void 0:t.color,O=function(){var e=new Date;u.update({completed:d.a.firestore.FieldValue.arrayUnion({day:e.getDate(),month:e.getMonth(),year:e.getFullYear()})})},m=function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u.delete().then((function(){return s(I(a))}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(f.jsxs)("div",{className:"habit",children:[Object(f.jsx)("div",{className:"title",style:{color:h},children:Object(f.jsxs)("div",{children:[Object(f.jsxs)("div",{className:"mainInfo",children:[Object(f.jsx)("h3",{children:n}),Object(f.jsx)("button",{onClick:m,className:"deleteBtn",children:"Remove"})]}),Object(f.jsx)("p",{children:c})]})}),Object(f.jsxs)("div",{className:"track",children:[Object(f.jsxs)("div",{className:"summary",children:[Object(f.jsx)("h3",{children:"Weekly Track"}),Object(f.jsx)("div",{className:"weeklyDays",children:j.map((function(e,t){return Object(f.jsx)("span",{children:e.dayOfWeek},"".concat(e.dayOfWeek,":").concat(t))}))}),Object(f.jsx)("div",{children:j.map((function(e,t){var n=i.find((function(t){return t.day===e.day&&t.month===e.month&&t.year===e.year}));return Object(f.jsx)("span",{children:n?Object(f.jsx)("svg",{width:"16",height:"14",viewBox:"0 0 18 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(f.jsx)("path",{d:"M1 8L6 12L14 1",strokeWidth:"2",stroke:h})}):Object(f.jsx)("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(f.jsx)("path",{className:"cross",d:"M1 1L10 10M1 10L10 1",strokeWidth:"2",stroke:"black"})})},"".concat(e.dayOfWeek,":").concat(t))}))})]}),function(){var e=new Date,t=j[e.getDay()];return!!i.find((function(e){return e.day===t.day&&e.month===t.month&&e.year===t.year}))}()?Object(f.jsxs)("div",{className:"taskDone",style:{color:h},children:[Object(f.jsx)("div",{children:"Great"}),Object(f.jsx)("div",{children:"Job!"})]}):Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("div",{onClick:function(e){return O()},className:"checkIn",style:{backgroundColor:h},children:Object(f.jsx)("svg",{className:"desktopCheck",width:"50",height:"44",viewBox:"0 0 50 44",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(f.jsx)("path",{d:"M3 24.2L17.6667 39L47 2",stroke:"#F4F4F4",strokeWidth:"6"})})}),Object(f.jsx)("div",{onClick:function(e){return O()},className:"mobileCheck",children:Object(f.jsxs)("svg",{width:"60",height:"60",viewBox:"0 0 60 60",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(f.jsx)("rect",{x:"0.5",y:"0.5",width:"59",height:"59",rx:"29.5",fill:h,stroke:"black"}),Object(f.jsx)("mask",{id:"mask0","mask-type":"alpha",maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"60",height:"60",children:Object(f.jsx)("rect",{x:"0.5",y:"0.5",width:"59",height:"59",rx:"29.5",fill:h,stroke:"black"})}),Object(f.jsx)("g",{mask:"url(#mask0)",children:Object(f.jsx)("path",{d:"M8 31.2L25.3333 46L60 9",stroke:"#F4F4F4",strokeWidth:"6"})})]})})]})]})]})},D=function(e){var t=e.add,n=Object(c.useMemo)((function(){return d.a.firestore()}),[]),r=Object(c.useMemo)((function(){return d.a.auth()}),[]),i=Object(b.b)(),a=Object(b.c)((function(e){return e.habits}));return Object(c.useEffect)((function(){var e,t=r;if(null===(e=t.currentUser)||void 0===e?void 0:e.uid){var c=n.collection("habits").orderBy("createdAt").where("uid","==",t.currentUser.uid).onSnapshot((function(e){e.docs.forEach((function(e){var t,n=e.data();i((t={id:e.id,title:n.title,category:n.category,description:n.description,completed:n.completed},{type:k,payload:t}))}))}));return function(){c(),i({type:N,payload:""})}}}),[r,n,i]),Object(f.jsxs)("div",{className:"body",children:[a.map((function(e){return Object(f.jsx)(M,{id:e.id,title:e.title,description:e.description,category:e.category,completed:e.completed},e.id)})),Object(f.jsx)("div",{className:"addBtn",children:Object(f.jsx)("div",{onClick:function(){return t()},children:Object(f.jsx)("img",{src:y,alt:""})})})]})},B=n(7),V={title:"",description:"",category:""},E=function(e){var t=e.value,n=e.setValue,r=e.warning,i=Object(c.useRef)(null),a=Object(c.useRef)(null),s=Object(c.useState)(!1),o=Object(u.a)(s,2),l=o[0],d=o[1],j=S.find((function(e){return e.name===t})),b=function(){setTimeout((function(){return d(!1)}),150)};return Object(f.jsxs)("div",{className:"dropdownContainer ".concat(l?"active":""," ").concat(r?"warn":""),children:[Object(f.jsx)("div",{className:"warningContainer",children:Object(f.jsx)("div",{className:"warningMsg",children:r})}),Object(f.jsxs)("div",{children:[Object(f.jsxs)("button",{onBlur:b,onClick:function(e){var t;e.preventDefault(),l?null===(t=i.current)||void 0===t||t.blur():d(!0)},ref:i,className:"dropdownBtn",children:[j?Object(f.jsx)("div",{style:{color:j.color},children:j.name}):Object(f.jsx)("div",{children:"Category"}),Object(f.jsx)("div",{className:"arrow",children:Object(f.jsx)("svg",{width:"24",height:"14",viewBox:"0 0 24 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(f.jsx)("path",{d:"M10.9393 13.0607C11.5251 13.6464 12.4749 13.6464 13.0607 13.0607L22.6066 3.51472C23.1924 2.92893 23.1924 1.97919 22.6066 1.3934C22.0208 0.807611 21.0711 0.807611 20.4853 1.3934L12 9.87868L3.51472 1.3934C2.92893 0.807611 1.97919 0.807611 1.3934 1.3934C0.807611 1.97919 0.807611 2.92893 1.3934 3.51472L10.9393 13.0607ZM10.5 10V12H13.5V10H10.5Z",fill:"black"})})})]}),Object(f.jsx)("ul",{className:"dropdownList",ref:a,onBlur:b,children:S.map((function(e){return Object(f.jsx)("li",{onClick:function(){return l?n(e.name):null},style:{color:e.color},children:e.name},e.name)}))})]})]})},F=function(e){var t=e.value,n=e.setValue,c=e.className,r=e.placeholder,i=e.warning;return Object(f.jsxs)("div",{className:"field ".concat(i?"warn":""),children:[Object(f.jsx)("div",{className:"warningContainer",children:Object(f.jsx)("div",{className:"warningMsg",children:i})}),Object(f.jsx)("input",{type:"text",onChange:function(e){return n(e.target.value)},value:t,className:c,placeholder:r}),Object(f.jsx)("div",{className:"hr"})]})},W=function(e){var t=e.close,n=Object(c.useState)(V),r=Object(u.a)(n,2),i=r[0],a=r[1],s=Object(c.useState)(V),j=Object(u.a)(s,2),h=j[0],O=j[1],m=Object(c.useState)(!0),x=Object(u.a)(m,2),v=x[0],p=x[1],g=Object(b.c)((function(e){return e.user})),w=Object(c.useMemo)((function(){return d.a.firestore()}),[]),y=function(e){a((function(t){return Object(B.a)(Object(B.a)({},t),e)}))},k=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n=!0,""===i.title&&(O((function(e){return Object(B.a)(Object(B.a)({},e),{},{title:"Please Enter a Title"})})),n=!1),""===i.description&&(O((function(e){return Object(B.a)(Object(B.a)({},e),{},{description:"Please Enter a Description"})})),n=!1),""===i.category&&(O((function(e){return Object(B.a)(Object(B.a)({},e),{},{category:"Please Select a Category"})})),n=!1),!n){e.next=10;break}return c=d.a.firestore.FieldValue.serverTimestamp,e.next=9,w.collection("habits").add(Object(B.a)(Object(B.a)({},i),{},{createdAt:c(),uid:null===g||void 0===g?void 0:g.uid,completed:[]}));case 9:p(!1);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){v||setTimeout((function(){return t()}),300)}),[v,t]),Object(f.jsx)("div",{id:"formContainer",className:v?"active":"",onClick:function(){return p(!1)},children:Object(f.jsx)("div",{onClick:function(e){return e.stopPropagation()},children:Object(f.jsx)("form",{onSubmit:k,children:Object(f.jsxs)("div",{children:[Object(f.jsx)(F,{className:"title",placeholder:"Title",value:i.title,warning:h.title,setValue:function(e){y({title:e}),O((function(e){return Object(B.a)(Object(B.a)({},e),{},{title:""})}))}}),Object(f.jsx)(F,{className:"description",placeholder:"Description",value:i.description,warning:h.description,setValue:function(e){y({description:e}),O((function(e){return Object(B.a)(Object(B.a)({},e),{},{description:""})}))}}),Object(f.jsx)(E,{warning:h.category,value:i.category,setValue:function(e){y({category:e}),O((function(e){return Object(B.a)(Object(B.a)({},e),{},{category:""})}))}}),Object(f.jsxs)("div",{className:"submission",children:[Object(f.jsx)("button",{onClick:function(){return p(!1)},children:"Cancel"}),Object(f.jsx)("input",{type:"submit",value:"Save"})]})]})})})})};d.a.initializeApp(j);var A=d.a.auth(),P=function(){var e=Object(c.useState)(!1),t=Object(u.a)(e,2),n=t[0],r=t[1],i=Object(c.useState)(!1),a=Object(u.a)(i,2),s=a[0],j=a[1],O=Object(b.c)((function(e){return e.user})),x=Object(b.b)();Object(c.useEffect)((function(){r("light"!==window.localStorage.getItem("theme")&&window.matchMedia("(prefers-color-scheme: dark)").matches)}),[]),Object(c.useEffect)((function(){A.onAuthStateChanged((function(e){x(e?function(e){return{type:L,payload:e}}(e):{type:T})}))}),[x]);var v=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new d.a.auth.GoogleAuthProvider,e.next=3,A.signInWithPopup(t);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(f.jsx)(h.Provider,{value:{signIn:v,signOut:function(){A.signOut()}},children:Object(f.jsxs)("div",{className:"App ".concat(n?"dark":""),children:[Object(f.jsx)(w,{changeTheme:function(){r((function(e){return e?window.localStorage.setItem("theme","light"):window.localStorage.setItem("theme","dark"),!e}))}}),O?Object(f.jsx)(D,{add:function(){return j(!0)}}):Object(f.jsx)("div",{id:"signInBody",children:Object(f.jsx)(m,{})}),s?Object(f.jsx)(W,{close:function(){return j(!1)}}):""]})})},U=n(14),G=n(19),H=Object(G.a)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case L:return t.payload;case T:return null}return e},habits:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case k:if("object"===typeof t.payload){var n=t.payload.id,c=e.findIndex((function(e){return e.id===n}));return-1!==c?[].concat(Object(U.a)(e.slice(0,c)),[t.payload],Object(U.a)(e.slice(c+1))):[].concat(Object(U.a)(e),[t.payload])}return console.warn("Payload supplied incorrectly\n"),Object(U.a)(e);case C:var r=e.findIndex((function(e){return e.id===t.payload}));return[].concat(Object(U.a)(e.slice(0,r)),Object(U.a)(e.slice(r+1)));case N:return[]}return e}}),R=Object(G.b)(H);a.a.render(Object(f.jsx)(b.a,{store:R,children:Object(f.jsx)(r.a.StrictMode,{children:Object(f.jsx)(P,{})})}),document.getElementById("root"))}},[[43,1,2]]]);
//# sourceMappingURL=main.45131444.chunk.js.map